<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Calendar</title>

  <link rel="stylesheet" href="assets/css/base.css" />
  <link rel="stylesheet" href="assets/css/popout.css" />
  <link rel="stylesheet" href="assets/css/pp-calendar.css" />
  <link rel="stylesheet" href="assets/css/pp-nav.css" />

  <style>
    .pp-cal-tabs{display:flex;gap:10px;flex-wrap:wrap}
    .pp-cal-miniGrid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
    @media (max-width:980px){.pp-cal-miniGrid{grid-template-columns:repeat(2,1fr)}}
    @media (max-width:620px){.pp-cal-miniGrid{grid-template-columns:1fr}}

    /* ===== Year mini-month ===== */
    .pp-miniMonth{border:1px solid var(--border);border-radius:16px;overflow:hidden;background:rgba(255,255,255,.70)}
    .pp-miniMonth h3{margin:0;padding:10px 12px;font-size:14px;font-weight:1000;background:rgba(0,0,0,.03)}
    .pp-miniMonth .grid{display:grid;grid-template-columns:repeat(7,1fr)}
    .pp-miniMonth .cell{
      padding:6px;
      border-top:1px solid var(--border);
      border-right:1px solid var(--border);
      min-height:28px;
      font-size:12px;
      position:relative;
      cursor:pointer;
      transition: transform .12s ease, background .12s ease;
    }
    .pp-miniMonth .cell:nth-child(7n){border-right:none}
    .pp-miniMonth .muted{opacity:.45}
    .pp-miniMonth .cell:hover{background:rgba(217,119,6,.08); transform: translateY(-1px)}
    .pp-miniMonth .cell.has{
      background: linear-gradient(180deg, rgba(217,119,6,.10), rgba(217,119,6,.02));
      box-shadow: inset 0 0 0 1px rgba(217,119,6,.18);
    }
    .pp-miniMonth .dot{position:absolute;right:7px;top:7px;width:8px;height:8px;border-radius:999px;background:var(--crx-accent,#d97706)}
    .pp-miniMonth .count{
      position:absolute;left:7px;top:6px;
      font-size:11px;font-weight:1000;
      background: rgba(17,24,39,.08);
      border: 1px solid var(--border);
      padding: 1px 6px;border-radius:999px;
    }

    /* ===== Week (7 days from today) ===== */
    .pp-week{display:grid;grid-template-columns:repeat(7,1fr);gap:10px}
    @media(max-width:980px){.pp-week{grid-template-columns:repeat(2,1fr)}}

    .pp-weekDay{
      border:1px solid var(--border);
      border-radius:16px;
      padding:10px;
      background:rgba(255,255,255,.68);
      cursor:pointer;
      transition: transform .12s ease, background .12s ease, box-shadow .12s ease;
      position: relative;
      overflow:hidden;
    }
    .pp-weekDay:hover{background:rgba(217,119,6,.08); transform: translateY(-1px)}
    .pp-weekDay--has{
      background: linear-gradient(180deg, rgba(217,119,6,.12), rgba(255,255,255,.70));
      box-shadow: inset 0 0 0 1px rgba(217,119,6,.18);
    }
    .pp-weekDay--today{
      outline: 3px solid rgba(217,119,6,.35);
      outline-offset: 2px;
    }
    .pp-weekDay--selected{
      box-shadow: 0 18px 50px rgba(0,0,0,.16);
      transform: translateY(-2px);
    }
    .pp-weekTop{display:flex;align-items:center;justify-content:space-between;gap:10px}
    .pp-weekDay .d{font-weight:1000}
    .pp-weekDay .meta{font-size:12px;opacity:.75;margin-top:4px}

    .pp-oc-badge{
      min-width: 26px;height: 26px;
      display:grid;place-items:center;
      border-radius: 999px;
      font-weight: 1000;
      background: rgba(217,119,6,.18);
      border: 1px solid rgba(217,119,6,.25);
    }
    .pp-oc-badge--off{
      background: rgba(17,24,39,.06);
      border: 1px solid var(--border);
      opacity:.7;
    }

    .pp-oc-chips{margin-top:10px;display:flex;flex-wrap:wrap;gap:6px}
    .pp-oc-chip{
      font-size: 12px;
      font-weight: 900;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,.78);
      max-width: 100%;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .pp-oc-chip--more{
      background: rgba(217,119,6,.14);
      border-color: rgba(217,119,6,.22);
    }
    .pp-oc-empty{margin-top:10px;font-size:12px;opacity:.7}

    /* ===== Month grid enhancements ===== */
    .pp-cal-cell.pp-cal-has{
      background: linear-gradient(180deg, rgba(217,119,6,.10), rgba(255,255,255,0));
      box-shadow: inset 0 0 0 1px rgba(217,119,6,.18);
    }
    .pp-cal-cell.pp-cal-today{
      outline: 3px solid rgba(217,119,6,.25);
      outline-offset: 2px;
    }
    .pp-cal-count{
      position:absolute;
      right:10px;
      bottom:8px;
      font-size:11px;
      font-weight:1000;
      padding:1px 6px;
      border-radius:999px;
      border: 1px solid rgba(217,119,6,.22);
      background: rgba(217,119,6,.16);
    }

    /* ===== Day list card polish ===== */
    .pp-occ-card{overflow:hidden}
    .pp-occ-featured{
      box-shadow: 0 18px 60px rgba(217,119,6,.18);
      border-color: rgba(217,119,6,.28);
    }
    .pp-occ-media{position:relative;aspect-ratio:16/10;background:rgba(0,0,0,.03)}
    .pp-occ-img{width:100%;height:100%;object-fit:cover;display:block}
    .pp-occ-ribbon{
      position:absolute;left:12px;top:12px;
      background: rgba(217,119,6,.90);
      color:#fff;
      padding:6px 10px;
      border-radius: 999px;
      font-weight:1000;
      box-shadow: 0 14px 30px rgba(0,0,0,.20);
    }
    .pp-occ-top{display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap;align-items:center}
    .pp-occ-date{
      font-size:12px;
      font-weight:1000;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.75);
    }
    .pp-occ-tags{margin-top:10px;display:flex;gap:8px;flex-wrap:wrap}
    .pp-occ-rank{font-size:12px;opacity:.75;font-weight:900}
  </style>
</head>

<body>
  <div data-include="includes/header.html"></div>

  <main class="pp-container">
    <section class="pp-card pp-pad" style="margin-top:12px">
      <div class="pp-split">
        <div>
          <div class="pp-mini">Unified Calendar</div>
          <h1 class="pp-h1" id="calTitle">Calendar</h1>
          <div class="pp-muted" id="calSub">Weekly • Monthly • Yearly • Synced to occasions.json</div>
        </div>
        <div class="pp-actions">
          <a class="pp-btn pp-btn--ghost" href="occasions.html">Occasions</a>
          <a class="pp-btn pp-btn--ghost" href="rituals.html">Rituals</a>
          <a class="pp-btn pp-btn--ghost" href="kathas.html">Kathas</a>
          <button class="pp-btn pp-btn--ghost" id="calLang" type="button">HI</button>
        </div>
      </div>

      <div class="pp-actions" style="margin-top:12px">
        <div class="pp-cal-tabs">
          <button class="pp-btn" id="tabWeek" type="button">Weekly</button>
          <button class="pp-btn pp-btn--ghost" id="tabMonth" type="button">Monthly</button>
          <button class="pp-btn pp-btn--ghost" id="tabYear" type="button">Yearly</button>
        </div>

        <div style="flex:1"></div>

        <button class="pp-btn pp-btn--ghost" id="prevYear" type="button">« Year</button>
        <button class="pp-btn pp-btn--ghost" id="prevUnit" type="button">‹</button>
        <div class="pp-pill" id="viewLabel">…</div>
        <button class="pp-btn pp-btn--ghost" id="nextUnit" type="button">›</button>
        <button class="pp-btn pp-btn--ghost" id="nextYear" type="button">Year »</button>
        <button class="pp-btn" id="todayBtn" type="button">Today</button>
      </div>
    </section>

    <!-- WEEK -->
    <section class="pp-card pp-pad" id="viewWeek" style="margin-top:12px;display:none">
      <div class="pp-h2">Next 7 Days</div>
      <div class="pp-week" id="weekGrid" style="margin-top:12px"></div>
    </section>

    <!-- MONTH -->
    <section class="pp-card pp-pad" id="viewMonth" style="margin-top:12px;display:none">
      <div class="pp-h2">Month</div>
      <div class="pp-cal" style="margin-top:12px">
        <div class="pp-cal-grid" id="monthGrid"></div>
      </div>
    </section>

    <!-- YEAR -->
    <section class="pp-card pp-pad" id="viewYear" style="margin-top:12px;display:none">
      <div class="pp-h2">Year</div>
      <div class="pp-miniMonthWrap pp-cal-miniGrid" id="yearGrid" style="margin-top:12px"></div>
    </section>

    <!-- DAY RESULTS -->
    <section class="pp-card pp-pad" style="margin-top:12px">
      <div class="pp-h2">Occasions on: <span id="dayLabel" class="pp-mini"></span></div>
      <div class="pp-grid" id="dayList" style="margin-top:12px"></div>
    </section>
  </main>

  <div data-include="includes/footer.html"></div>

  <script src="assets/js/includes.js"></script>
  <script src="assets/js/pp-nav.js"></script>
  <script src="assets/js/pp-theme.js"></script>

  <script src="assets/js/site-config.js"></script>
  <script src="assets/js/lang.js"></script>
  <script src="assets/js/render.js"></script>
  <script src="assets/js/popout.js?v=99"></script>
  <script src="assets/js/calendar-3views.js?v=2"></script>
  <script src="https://programmer-s-picnic.github.io/json-images/find-on-page.js"></script>
  <script src="https://programmer-s-picnic.github.io/json-images/imgshow.js"></script>
</body>
</html>
