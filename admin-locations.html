<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Admin — Locations Editor</title>

    <link rel="stylesheet" href="assets/css/base.css" />

    <style>
      .al-wrap {
        display: grid;
        grid-template-columns: 360px 1fr;
        gap: 12px;
        margin-top: 12px;
      }
      @media (max-width: 980px) {
        .al-wrap {
          grid-template-columns: 1fr;
        }
      }
      .al-list {
        display: grid;
        gap: 10px;
      }
      .al-row {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
        align-items: center;
      }
      .al-row > * {
        flex: 1;
        min-width: 120px;
      }
      .al-small {
        font-size: 12px;
        opacity: 0.75;
      }
      .al-danger {
        border: 1px solid rgba(220, 38, 38, 0.35);
        background: rgba(220, 38, 38, 0.06);
      }
      .al-good {
        border: 1px solid rgba(22, 163, 74, 0.25);
        background: rgba(22, 163, 74, 0.06);
      }
      .al-kpi {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
      }
      .al-kpi .pp-pill {
        font-weight: 900;
      }
      textarea.pp-input {
        min-height: 90px;
        font-family:
          ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
          "Liberation Mono", "Courier New", monospace;
      }
      .al-split {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        align-items: center;
        justify-content: space-between;
      }
      .al-places {
        display: grid;
        gap: 10px;
      }
      .al-place {
        position: relative;
      }
      .al-place .badge {
        position: absolute;
        top: 10px;
        right: 10px;
      }
      .al-muted {
        opacity: 0.7;
      }
    </style>
  </head>

  <body>
    <div data-include="includes/header.html"></div>

    <main class="pp-container">
      <section class="pp-card pp-pad" style="margin-top: 12px">
        <div class="al-split">
          <div>
            <div class="pp-mini">Visual Admin Helper</div>
            <h1 class="pp-h1">Locations Editor</h1>
            <div class="pp-muted">
              Loads <b>data/master/locations.json</b> • Autosaves draft in
              <b>localStorage</b> • Export as JSON
            </div>
          </div>
          <div class="pp-actions">
            <button class="pp-btn pp-btn--ghost" id="alLoad" type="button">
              Reload from file
            </button>
            <button class="pp-btn pp-btn--ghost" id="alLoadDraft" type="button">
              Load draft
            </button>
            <button class="pp-btn" id="alSaveDraft" type="button">
              Save draft
            </button>
            <button class="pp-btn" id="alDownload" type="button">
              Download locations.json
            </button>
          </div>
        </div>
        <div class="pp-actions" style="margin-top: 12px">
          <input
            class="pp-input"
            id="alSearch"
            placeholder="Search city/place/tag…"
            style="flex: 1"
          />
          <button class="pp-btn pp-btn--ghost" id="alCopyJson" type="button">
            Copy JSON
          </button>
          <label class="pp-btn pp-btn--ghost" style="cursor: pointer">
            Import JSON
            <input id="alImport" type="file" accept="application/json" hidden />
          </label>
        </div>

        <div class="al-kpi" style="margin-top: 12px">
          <span class="pp-pill" id="alKpiCities">Cities: 0</span>
          <span class="pp-pill" id="alKpiPlaces">Places: 0</span>
          <span class="pp-pill" id="alKpiMissing">Missing coords: 0</span>
          <span class="pp-pill" id="alKpiDup">Duplicate IDs: 0</span>
          <span class="pp-mini" id="alStatus">Ready.</span>
        </div>
      </section>

      <div class="al-wrap">
        <!-- LEFT: Cities -->
        <section class="pp-card pp-pad">
          <div class="al-split">
            <div>
              <div class="pp-h2">Cities</div>
              <div class="pp-mini">Select a city to edit places</div>
            </div>
            <button class="pp-btn" id="alAddCity" type="button">+ City</button>
          </div>

          <div class="al-list" id="alCityList" style="margin-top: 12px"></div>

          <div class="pp-card pp-pad" style="margin-top: 12px">
            <div class="pp-h2">City Editor</div>
            <div class="al-row" style="margin-top: 10px">
              <input
                class="pp-input"
                id="alCityId"
                placeholder="city id (e.g., ayodhya)"
              />
              <input
                class="pp-input"
                id="alCityEn"
                placeholder="City name (EN)"
              />
              <input
                class="pp-input"
                id="alCityHi"
                placeholder="City name (HI)"
              />
            </div>
            <div class="pp-actions" style="margin-top: 10px">
              <button class="pp-btn" id="alCityApply" type="button">
                Apply
              </button>
              <button
                class="pp-btn pp-btn--ghost"
                id="alCityDelete"
                type="button"
              >
                Delete city
              </button>
            </div>
            <div class="pp-mini al-muted" style="margin-top: 8px">
              Tip: keep city IDs lowercase, underscores only. Example:
              <b>prayagraj</b>.
            </div>
          </div>
        </section>

        <!-- RIGHT: Places -->
        <section class="pp-card pp-pad">
          <div class="al-split">
            <div>
              <div class="pp-h2">Places</div>
              <div class="pp-mini" id="alPlaceHint">Select a city…</div>
            </div>
            <button class="pp-btn" id="alAddPlace" type="button" disabled>
              + Place
            </button>
          </div>

          <div
            class="al-places"
            id="alPlaceList"
            style="margin-top: 12px"
          ></div>

          <div class="pp-card pp-pad" style="margin-top: 12px">
            <div class="pp-h2">Place Editor</div>

            <div class="al-row" style="margin-top: 10px">
              <input
                class="pp-input"
                id="alPlaceId"
                placeholder="place id (e.g., ram_janmabhoomi)"
              />
              <input
                class="pp-input"
                id="alPlaceEn"
                placeholder="Place name (EN)"
              />
              <input
                class="pp-input"
                id="alPlaceHi"
                placeholder="Place name (HI)"
              />
            </div>

            <div class="al-row" style="margin-top: 10px">
              <input class="pp-input" id="alLat" placeholder="lat (number)" />
              <input class="pp-input" id="alLng" placeholder="lng (number)" />
              <input
                class="pp-input"
                id="alTags"
                placeholder="tags (comma separated)"
              />
            </div>

            <div style="margin-top: 10px">
              <textarea
                class="pp-input"
                id="alDescEn"
                placeholder="Description (EN)"
              ></textarea>
              <textarea
                class="pp-input"
                id="alDescHi"
                placeholder="Description (HI)"
                style="margin-top: 8px"
              ></textarea>
            </div>

            <div style="margin-top: 10px">
              <textarea
                class="pp-input"
                id="alImages"
                placeholder="Images (one per line)&#10;assets/images/ayodhya/ram_janmabhoomi.jpg"
              ></textarea>
            </div>

            <div class="pp-actions" style="margin-top: 10px">
              <button class="pp-btn" id="alPlaceApply" type="button">
                Apply
              </button>
              <button
                class="pp-btn pp-btn--ghost"
                id="alPlaceDelete"
                type="button"
              >
                Delete place
              </button>
            </div>

            <div class="pp-mini al-muted" style="margin-top: 8px">
              Images: store files inside
              <b>assets/images/&lt;cityId&gt;/</b> and add paths here.
            </div>
          </div>
        </section>
      </div>
    </main>

    <div data-include="includes/footer.html"></div>
<script src="assets/js/includes.js"></script>
<script src="assets/js/pp-nav.js"></script>
<script src="assets/js/pp-theme.js"></script>
<script src="assets/js/admin-locations.js?v=1"></script>

  </body>
</html>
